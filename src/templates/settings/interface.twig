{% extends "translation-manager/_layouts/settings" %}
{% set title = "Interface Settings"|t('translation-manager') %}
{% set fullPageForm = true %}
{% set selectedSettingsItem = 'interface' %}

{% set plugin = craft.app.plugins.getPlugin('translation-manager') %}
{% set crumbs = [
    {
        label: translationHelper.fullName|t('translation-manager'),
        url: url('translation-manager'),
    },
    {
        label: 'Settings'|t('translation-manager'),
        url: url('translation-manager/settings'),
    },
    {
        label: 'Interface'|t('translation-manager'),
        url: url('translation-manager/settings/interface'),
    },
] %}

{% import "_includes/forms" as forms %}

{% block content %}
	<form method="post" accept-charset="UTF-8">
		{{ csrfInput() }}
		{{ actionInput('translation-manager/settings/save') }}
		{{ redirectInput('translation-manager/settings/interface') }}
		{{ hiddenInput('section', 'interface') }}

		<h2 style="margin-top: 0px;">{{ "Interface Settings"|t('translation-manager') }}</h2>

		{{ forms.textField({
            label: "Items Per Page"|t('translation-manager'),
            instructions: "Number of translations to show per page"|t('translation-manager'),
            id: 'itemsPerPage',
            name: 'settings[itemsPerPage]',
            value: settings.itemsPerPage,
            errors: settings.getErrors('itemsPerPage'),
            type: 'number',
            min: 10,
            max: 500,
            disabled: settings.isOverriddenByConfig('itemsPerPage'),
            warning: settings.isOverriddenByConfig('itemsPerPage') ?
                "This is being overridden by the <code>itemsPerPage</code> setting in <code>config/translation-manager.php</code>."|raw : null,
        }) }}

		{{ forms.lightswitchField({
            label: "Show Context"|t('translation-manager'),
            instructions: "Display the translation context in the interface"|t('translation-manager'),
            id: 'showContext',
            name: 'settings[showContext]',
            on: settings.showContext,
            disabled: settings.isOverriddenByConfig('showContext'),
            warning: settings.isOverriddenByConfig('showContext') ?
                "This is being overridden by the <code>showContext</code> setting in <code>config/translation-manager.php</code>."|raw : null,
        }) }}

		{{ forms.lightswitchField({
            label: "Enable Auto-Save"|t('translation-manager'),
            instructions: "Automatically save each translation when you click outside the field (blur)"|t('translation-manager'),
            id: 'autoSaveEnabled',
            name: 'settings[autoSaveEnabled]',
            on: settings.autoSaveEnabled,
            disabled: settings.isOverriddenByConfig('autoSaveEnabled'),
            warning: settings.isOverriddenByConfig('autoSaveEnabled') ?
                "This is being overridden by the <code>autoSaveEnabled</code> setting in <code>config/translation-manager.php</code>."|raw : null,
        }) }}

		<div class="buttons">
			<button type="submit" class="btn submit">{{ "Save Settings"|t('translation-manager') }}</button>
		</div>
	</form>

	{% include 'translation-manager/_components/plugin-credit.twig' %}
{% endblock %}
